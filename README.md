# FT Article - React + Vite

A Financial Times partner content article built with React and Vite, designed for deployment on both GitHub Pages and S3.

## Overview

This project uses the FT's partner content HTML template as the base shell, with React components injected into specific mount points. The build is configured for relative path asset loading, making it compatible with both GitHub Pages and S3 bucket deployments.

### Key Features

- **Vite**: Fast build tool with HMR (Hot Module Replacement) for development
- **React 19**: Modern UI component framework
- **Styled Components**: CSS-in-JS styling solution
- **Framer Motion**: Animation library
- **Lottie React**: Vector animation support
- **Relative Path Build**: Works on both GitHub Pages and S3 without path changes

## Project Structure

```
ft-article-axa/
├── src/
│   ├── App.jsx              # Main app component containing all sections
│   ├── App.css              # App-level styles
│   ├── main.jsx             # React entry point (mounts App to DOM)
│   ├── index.css            # Global styles
│   └── components/          # (To be created) Individual section components
│       ├── IntroSection.jsx
│       ├── VizSection.jsx
│       └── ConclusionSection.jsx
├── index.html               # FT template shell with React mount point
├── vite.config.js           # Vite configuration (includes base: './')
├── package.json             # Dependencies and scripts
└── dist/                    # Built output (generated by `npm run build`)
```

## Installation

1. **Clone and install dependencies:**
   ```bash
   npm install
   ```

2. **Install key libraries** (already included):
   ```bash
   npm install styled-components lottie-react framer-motion
   ```

## Development

Start the local development server with hot module replacement:

```bash
npm run dev
```

The app will be available at `http://localhost:5173/`

## Building

Build the project for production:

```bash
npm run build
```

This creates a `dist` folder with:
- `index.html` - The complete HTML file with inlined React code
- `assets/` - JavaScript and CSS bundles

## Deployment

### GitHub Pages (for Preview/Review)

This repository is configured for GitHub Pages deployment.

**Deploy updates:**
```bash
npm run deploy
```

This will:
1. Build the project (`npm run build`)
2. Deploy the dist folder to the `gh-pages` branch
3. GitHub Pages serves changes at: `https://huwllewellyn.github.io/ft-article-axa`

**Sharing with stakeholders:**
Send the GitHub Pages link for design review before final S3 deployment.

### S3 (for Final Deployment)

The built `dist` folder is ready for S3 deployment:

1. **Build the project:**
   ```bash
   npm run build
   ```

2. **Upload to S3:**
   - Compress the `dist` folder contents
   - Send to FT S3 team or upload via S3 console
   - The relative paths (`./`) will work correctly in any S3 folder structure

**No additional configuration needed** — the `base: './'` in vite.config.js handles relative path loading for both GitHub Pages and S3.

## Component Structure

### App.jsx
The main component that composes all three sections:
- IntroSection
- VizSection
- ConclusionSection

**Note:** Section components are currently placeholders. Replace with actual components as design specs are provided.

### Creating New Sections

When adding new sections, follow this pattern:

```jsx
// src/components/NewSection.jsx
import styled from 'styled-components'

const SectionContainer = styled.div`
  /* Your styles here */
`

export default function NewSection() {
  return (
    <SectionContainer>
      {/* Your content */}
    </SectionContainer>
  )
}
```

Then import and add to App.jsx:
```jsx
import NewSection from './components/NewSection'

function App() {
  return (
    <>
      <NewSection />
    </>
  )
}
```

## Dependencies

### Runtime
- **react**: ^19.2.0 — UI framework
- **react-dom**: ^19.2.0 — DOM rendering
- **styled-components**: ^6.1.19 — CSS-in-JS styling
- **framer-motion**: ^12.23.24 — Animation library
- **lottie-react**: ^2.4.1 — Vector animations

### Development
- **vite**: ^7.2.4 — Build tool
- **@vitejs/plugin-react**: ^5.1.1 — Vite React plugin
- **eslint**: ^9.39.1 — Code linting
- **gh-pages**: ^6.3.0 — GitHub Pages deployment

## Styling Notes

- **FT CSS**: External FT stylesheets are loaded in index.html
- **React Styles**: Use styled-components for component-level styling
- **Global Styles**: Minimal reset in `src/index.css` to avoid conflicts with FT styling

The FT template handles:
- Header and footer styling
- Layout structure (vertical flow in `.pc-content`)
- Brand colors and typography

## Environment

- **Node.js**: 18+ recommended
- **Package Manager**: npm

## Git Workflow

1. **Develop locally:**
   ```bash
   npm run dev
   ```

2. **Commit changes:**
   ```bash
   git add .
   git commit -m "Description of changes"
   git push
   ```

3. **Deploy to GitHub Pages:**
   ```bash
   npm run deploy
   ```

4. **Final S3 Handoff:**
   - Build the project
   - Zip the `dist` folder
   - Send to FT S3 team with deployment instructions

## Troubleshooting

**Problem:** Assets not loading on GitHub Pages
- **Solution:** Ensure `base: './'` is set in vite.config.js

**Problem:** Styling broken after build
- **Solution:** Check that FT CSS is being loaded from index.html (not stripped during build)

**Problem:** React component not rendering
- **Solution:** Verify the React mount point `<div id="react-root"></div>` exists in index.html

## Future Enhancements

Consider adding:
- TypeScript support
- E2E testing (Playwright/Cypress)
- Component library/Storybook
- Design tokens/theme management
- Accessibility auditing

## Resources

- [Vite Documentation](https://vitejs.dev)
- [React Documentation](https://react.dev)
- [Styled Components Documentation](https://styled-components.com)
- [Framer Motion Guide](https://www.framer.com/motion/)
- [FT Origami Components](https://origami.ft.com)

## License

Proprietary - Financial Times Partner Content
